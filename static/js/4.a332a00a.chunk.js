(this.webpackJsonplogicgame=this.webpackJsonplogicgame||[]).push([[4],{112:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(63),_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(130),_Tile__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(64),_TilePlace__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(115),_TilePreview__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(116),_Operator__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(117),_Result__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(118),_CurrentScope__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(127),_Scope__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(128),_Board_sass__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(129),_Board_sass__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_Board_sass__WEBPACK_IMPORTED_MODULE_10__);_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_1__.b.add(_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_2__.b,_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_2__.a);const numbers=[1,3,4,6],operators=[["-","=","-"],["-",">","-"],["+","=","+"],["+",">","+"]];class Board extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){var _this;super(props),_this=this,this.validate=()=>{const notPlaced=this.state.positions.find(e=>e<4);if(void 0!==notPlaced)return;const positions=this.state.positions,nums=numbers.map((e,t)=>{const _=positions.indexOf(t+4);return numbers[_]}),numOpers=nums.reduce((e,t,_)=>(e.push(operators[this.state.ops][_-1],t),e),[]),expr=numOpers.join("").replace("=","==="),result=eval(expr);this.setState({result:result}),setTimeout(()=>{let e=this.state.ops,t=Object.assign({},this.state.currentScope),_=null;result?(e++,t.up++):t.down++,e>=operators.length&&(e=operators.length-1,_=t),this.setState({positions:[0,1,2,3],ops:e,result:null,currentScope:t,scope:_})},1e3)},this.moveTile=(e,t)=>{const _=numbers.indexOf(e.tileId),r=this.state.positions.slice();r[_]=t,this.setState({positions:r},this.validate)},this.canDrop=(e,t)=>{if(this.state.positions.indexOf(e)>=0)return!1;switch(e){case 4:case 6:if("-"===operators[this.state.ops][e-4]){const _=this.state.positions.indexOf(e+1);if(_>=0&&numbers[_]>t)return!1}break;case 5:case 7:if("-"===operators[this.state.ops][e-5]){const _=this.state.positions.indexOf(e-1);if(_>=0&&numbers[_]<t)return!1}break;default:return!0}return!0},this.renderTilePlace=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const _=e+t,r=_this.state.positions.indexOf(_);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TilePlace__WEBPACK_IMPORTED_MODULE_4__.a,{key:_.toString(),position:_,canDrop:_this.canDrop,moveTile:_this.moveTile},r>=0?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Tile__WEBPACK_IMPORTED_MODULE_3__.a,{number:numbers[r]}):null)},this.renderRow=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const _=numbers.map((e,_)=>_this.renderTilePlace(_,t));return _.reduce((t,_,r)=>(0===r?t.push(_):t.push(e(r),_),t),[])},this.renderNumbers=()=>this.renderRow(e=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Operator__WEBPACK_IMPORTED_MODULE_6__.a,{key:e+3})),this.renderOperators=()=>this.renderRow(e=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Operator__WEBPACK_IMPORTED_MODULE_6__.a,{key:e+7,sign:operators[this.state.ops][e-1]}),4),this.state={positions:[0,1,2,3],ops:0,result:null,currentScope:{up:0,down:0},scope:null}}render(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"Board"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"Row"},this.renderNumbers()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"Row"},this.renderOperators()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TilePreview__WEBPACK_IMPORTED_MODULE_5__.a,null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Result__WEBPACK_IMPORTED_MODULE_7__.a,{result:this.state.result}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Scope__WEBPACK_IMPORTED_MODULE_9__.a,{scope:this.state.scope})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CurrentScope__WEBPACK_IMPORTED_MODULE_8__.a,{scope:this.state.currentScope}))}}__webpack_exports__.a=Board},115:function(e,t,_){"use strict";var r=_(0),n=_.n(r),a=_(34),s=_(43);const o={drop(e,t){e.moveTile(t.getItem(),e.position)},canDrop:(e,t)=>e.canDrop(e.position,t.getItem().tileId)};t.a=Object(a.DropTarget)(s.a.NUMBER,o,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()&&t.canDrop()}}))((function(e){let{connectDropTarget:t,isOver:_,children:r}=e;return t(n.a.createElement("div",{className:"TilePlace",style:{backgroundColor:_?"yellow":null}},r))}))},116:function(e,t,_){"use strict";var r=_(0),n=_.n(r),a=_(43),s=_(34),o=_(64);const i={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function c(e){const{currentOffset:t}=e;if(!t)return{display:"none"};const{x:_,y:r}=t,n="translate(".concat(_,"px, ").concat(r,"px) rotate(-5deg)");return{transform:n,WebkitTransform:n,transformOrigin:"7vmin 7vmin"}}t.a=Object(s.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}}))((function(e){return e.isDragging?n.a.createElement("div",{style:i},n.a.createElement("div",{style:c(e),className:"TilePreview"},function(e,t){if(e===a.a.NUMBER)return n.a.createElement(o.a,{number:t.tileId})}(e.itemType,e.item))):null}))},117:function(e,t,_){"use strict";var r=_(0),n=_.n(r);t.a=function(e){return n.a.createElement("div",{className:"Operator"},e.sign)}},118:function(e,t,_){"use strict";_.d(t,"a",(function(){return i}));var r=_(0),n=_.n(r),a=_(44),s=_(65),o=_.n(s);function i(e){return n.a.createElement(o.a,{isOpen:null!==e.result,shouldCloseOnOverlayClick:!0,overlayClassName:"modalOverlay",className:"modalContent"},n.a.createElement(a.a,{style:{fontSize:"20vmin"},icon:e.result?"thumbs-up":"thumbs-down"}))}o.a.setAppElement("#root")},127:function(e,t,_){"use strict";_.d(t,"a",(function(){return s}));var r=_(0),n=_.n(r),a=_(44);function s(e){return n.a.createElement("div",null,n.a.createElement("ul",{className:"currentScope"},n.a.createElement("li",null,n.a.createElement(a.a,{icon:"thumbs-up"})," ",e.scope.up),n.a.createElement("li",null,n.a.createElement(a.a,{icon:"thumbs-down"})," ",e.scope.down)))}},128:function(e,t,_){"use strict";_.d(t,"a",(function(){return c}));var r=_(0),n=_.n(r),a=_(29),s=_(44),o=_(65),i=_.n(o);function c(e){return n.a.createElement(i.a,{isOpen:null!==e.scope,shouldCloseOnOverlayClick:!0,overlayClassName:"modalOverlay",className:"modalContent Scope"},n.a.createElement("div",{className:"Row"},"Score ",e.scope&&e.scope.up-e.scope.down),n.a.createElement("div",{className:"Row"},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(s.a,{icon:"thumbs-up"})," ",e.scope&&e.scope.up),n.a.createElement("li",null,n.a.createElement(s.a,{icon:"thumbs-down"})," ",e.scope&&e.scope.down))),n.a.createElement("div",{className:"Row"},n.a.createElement(a.a,{render:e=>{let{history:t}=e;return n.a.createElement("button",{type:"button",onClick:()=>{t.push("/logicgame")}},"Close")}})))}i.a.setAppElement("#root")},129:function(e,t,_){},132:function(e,t,_){"use strict";_.r(t);var r=_(0),n=_.n(r),a=_(34),s=_(111),o=_.n(s),i=_(112);t.default=Object(a.DragDropContext)(o()({enableMouseEvents:!0}))((function(){return n.a.createElement(i.a,null)}))},43:function(e,t,_){"use strict";_.d(t,"a",(function(){return r}));const r={NUMBER:"number"}},64:function(e,t,_){"use strict";var r=_(0),n=_.n(r),a=_(43),s=_(34);const o={beginDrag:e=>({tileId:e.number})};t.a=Object(s.DragSource)(a.a.NUMBER,o,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))((function(e){let{connectDragSource:t,isDragging:_,number:r}=e;return document.getElementById("root").style.cursor=_?"grabbing":"",t(n.a.createElement("div",{style:{opacity:_?.5:1,cursor:_?"grabbing":"grab"},className:"Tile"},r))}))}}]);
//# sourceMappingURL=4.a332a00a.chunk.js.map