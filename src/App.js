import React, { Component, Suspense, lazy } from 'react';
import { BrowserRouter as Router, Route, Link,Switch, BrowserRouter } from 'react-router-dom';
import MtSvgLines from 'react-mt-svg-lines';
// import Game from './components/game/Game';
// import logo from './logo.svg';
import './App.sass';

class Home extends Component {
  constructor(props) {
    super(props);
    this.state = { animate: 500 };
  }

  componentDidMount() {
    this.timer = setInterval(() => this.setState({ animate: String(Date.now()) }), 14000);
  }

  componentWillUnmount() {
    clearInterval(this.timer);
  }

  render() {
    return(
      <MtSvgLines animate={this.state.animate} timing='linear' duration={8000} stagger={50} playback='2 alternate'>
        <svg xmlns="http://www.w3.org/2000/svg" height="40vw" width="80vw" viewBox="0 0 600 300">
          <path stroke="green" strokeWidth="3" fill="none" d="M43.302 134.562v-5.115c-11.465-.882-15.698-1.411-16.756-8.82-.882-5.82-1.235-12.523-1.235-21.871V28.73h.353L71.17 132.446h4.763L121.97 28.73h.529v89.428c0 9.878-.353 10.23-15.875 11.29v5.114h49.212v-5.115c-15.346-1.058-15.875-1.411-15.875-11.289V28.907c0-9.878.53-10.23 15.875-11.289v-5.115h-35.454c-5.997 15.698-13.229 31.22-20.284 46.742l-21.167 47.272h-.352L57.766 59.422c-6.88-15.699-14.287-31.22-20.637-46.92H1.322v5.116c15.522 1.058 15.875 1.411 15.875 11.289v69.849c0 9.348-.353 16.051-1.235 21.872-1.058 7.408-5.291 8.114-14.463 8.82v5.114zM222.398 109.339c0 14.287-10.936 17.991-17.815 17.991-10.936 0-16.227-7.76-16.227-18.167 0-8.29 3.88-12.524 13.758-16.228 7.055-2.646 16.404-5.997 20.284-8.466zm15.875-39.863c0-10.23-2.293-23.46-28.927-23.46-19.932 0-35.63 10.407-35.63 20.108 0 5.645 6.526 8.29 9.877 8.29 3.704 0 4.763-1.94 5.644-4.938 3.881-13.053 11.113-17.286 18.168-17.286 6.88 0 14.993 3.527 14.993 17.638v7.409c-4.41 4.586-21.519 8.995-35.454 13.405-12.7 3.88-16.403 12.7-16.403 20.99 0 13.23 8.819 25.047 25.4 25.047 10.935-.353 20.636-6.88 26.28-10.583 2.47 6.526 5.292 10.583 11.466 10.583 6.526 0 14.11-1.94 20.814-5.292l-1.059-4.233c-2.47.53-6.35.882-8.995.176-3.175-.705-6.174-4.056-6.174-15.169zM311.727 55.188v-7.055h-22.754V25.908h-5.115l-10.76 22.225h-13.405v7.055h12.7v61.383c0 17.991 13.405 20.108 19.579 20.108 8.995 0 17.462-4.586 22.577-7.761l-1.41-3.704c-4.234 1.764-8.115 2.293-12.524 2.293-5.998 0-11.642-4.233-11.642-17.639v-54.68zM406.05 74.062c0-17.815-9.701-28.046-26.105-28.046-12.877 0-20.814 5.997-31.926 13.406V4.742l-1.235-1.059-27.516 4.41v4.41l6.702.882c4.586.705 5.645 1.587 5.645 7.937v97.895c.176 8.643-.706 9.348-13.053 10.23v5.115h42.862v-5.115c-12.17-.882-13.229-1.587-13.229-10.23V77.942c0-4.41.176-6.879 1.587-9.525 3.705-7.055 11.818-12.876 21.167-12.876 11.994 0 18.52 6.703 18.52 22.048v41.628c0 8.643-.881 9.348-13.229 10.23v5.115h43.039v-5.115c-12.17-.882-13.23-1.587-13.23-10.23z"/>
          <path stroke="green" strokeWidth="3" fill="none" d="M167.285 253.604c0-8.82.882-9.702 12.524-10.936v-5.116h-48.683v5.116c17.815 1.234 18.697 2.293 18.697 10.936v23.812c0 6.173-2.293 8.113-5.997 9.525-4.586 1.763-9.525 2.645-15.522 2.645-40.569 0-48.154-35.982-48.154-58.03 0-27.87 11.113-56.974 45.86-56.974 19.403 0 30.692 8.82 34.396 28.751h5.292v-27.692c-8.643-4.234-23.812-7.232-37.923-7.232-26.458 0-44.097 8.643-54.151 21.695-8.996 11.818-13.229 25.93-13.229 44.273 0 22.754 8.996 40.922 21.872 50.094 13.405 9.349 28.927 11.289 44.45 11.289 12.346 0 29.456-3.88 40.568-7.408zM241.963 267.89c0 14.288-10.936 17.992-17.815 17.992-10.936 0-16.228-7.76-16.228-18.168 0-8.29 3.88-12.523 13.759-16.227 7.055-2.646 16.404-5.997 20.284-8.467zm15.875-39.863c0-10.23-2.293-23.459-28.928-23.459-19.931 0-35.63 10.407-35.63 20.108 0 5.644 6.527 8.29 9.878 8.29 3.704 0 4.762-1.94 5.644-4.939 3.88-13.052 11.113-17.285 18.168-17.285 6.88 0 14.993 3.527 14.993 17.638v7.408c-4.41 4.587-21.52 8.996-35.454 13.406-12.7 3.88-16.404 12.7-16.404 20.99 0 13.229 8.82 25.047 25.4 25.047 10.936-.353 20.637-6.88 26.282-10.583 2.47 6.526 5.291 10.583 11.465 10.583 6.526 0 14.11-1.94 20.813-5.292l-1.058-4.233c-2.47.529-6.35.882-8.996.176-3.175-.705-6.173-4.057-6.173-15.169zM280.316 208.978v4.41l6.703.881c4.586.706 5.644 1.588 5.644 7.938v55.561c0 8.996-.529 9.349-13.229 10.23v5.116h43.039V288c-12.524-.882-13.23-1.235-13.23-10.23v-41.275c0-4.41.177-6.88 1.412-9.348 3.351-7.056 11.112-13.053 20.813-13.053 15.17 0 16.933 11.112 16.933 22.048v41.627c0 8.996-.529 9.349-13.229 10.23v5.116h43.039V288c-12.524-.882-13.23-1.235-13.23-10.23v-41.275c0-4.41.177-6.88 1.235-9.701 2.646-7.056 10.23-12.7 20.109-12.7 11.112-.353 17.815 6.703 17.815 22.048v41.627c0 8.996-.53 9.349-13.23 10.23v5.116h43.039V288c-12.524-.882-13.23-1.235-13.23-10.23v-45.156c0-17.815-9.524-28.045-26.28-28.045-14.464 0-24.871 9.701-31.045 13.582-4.233-8.29-10.936-13.582-23.283-13.582-13.582 0-24.694 8.82-30.867 13.405l-1.588-13.405zM514.527 246.724c3.704 0 7.056-.882 7.056-6.702 0-10.407-3.352-35.454-35.63-35.454-27.517 0-40.57 19.579-40.57 46.037 0 27.869 11.995 44.979 40.746 44.626 19.579-.177 29.633-10.936 34.395-24.87l-5.291-2.823c-4.939 10.23-11.642 18.697-25.576 18.697-21.872 0-26.282-21.166-25.929-39.51zm-50.623-6.702c0-7.232 2.646-29.28 20.99-29.28 16.404 0 18.345 16.756 18.345 23.635 0 3.352-1.059 5.645-5.998 5.645zM592.08 231.202v-20.637c-5.821-4.233-14.817-5.997-22.754-5.997-19.05 0-31.926 8.996-32.103 25.752.177 14.64 11.995 21.167 26.635 25.577 7.937 2.469 19.05 6.526 19.05 18.52 0 8.996-7.056 14.64-16.404 14.64-14.288 0-22.225-10.407-25.753-25.4h-5.115l1.764 23.107c6.35 5.645 17.11 8.467 27.516 8.467 20.99 0 32.984-11.113 32.984-26.105 0-15.522-9.525-22.578-27.692-28.222-7.232-2.293-18.874-5.997-18.874-15.875.177-9.172 7.056-14.287 15.875-14.287 12.524 0 18.52 9.7 19.755 20.46z"/>
        </svg>
      </MtSvgLines>
    );
  }
}

const Game = lazy(() => import('./components/game/Game'));

class App extends Component {
  render() {
    return (
      <BrowserRouter basename='/logicgame'>
        <div className="App">
          <Router>
            <Suspense fallback={<div>Loading...</div>}>
              <div className='container'>
                <ul className='nav'>
                  <li><Link to='/logicgame'>Home</Link></li>
                  <li><Link to='/logicgame/game'>Game</Link></li>
                </ul>
                <div className='GameContainer'>
                  <Switch>
                    <Route exact path='/logicgame' component={Home} />
                    <Route path='/logicgame/game' render={props => <Game {...props} />} />
                  </Switch>
                </div>
              </div>
            </Suspense>
          </Router>
        </div>
      </BrowserRouter>
    );
  }
}

export default App;
